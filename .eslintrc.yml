env:
  browser: true
  es2021: true
extends:
  - plugin:eslint-comments/recommended
  - plugin:prettier/recommended
  - plugin:promise/recommended
  - plugin:security/recommended
  - plugin:unicorn/recommended
ignorePatterns:
  - jest.config.ts
overrides:
  - files: "**/*.ts?(x)"
    parser: "@typescript-eslint/parser"
    parserOptions:
      ecmaVersion: latest
      project: tsconfig.json
      sourceType: module
    plugins:
      - "@typescript-eslint"
    extends:
      - plugin:@typescript-eslint/recommended
      - plugin:@typescript-eslint/recommended-requiring-type-checking
    rules:
      "@typescript-eslint/interface-name-prefix": off
      "@typescript-eslint/no-explicit-any": off
      "@typescript-eslint/no-namespace":
        - error
        - allowDeclarations: true
      "@typescript-eslint/no-unused-vars":
        - error
        - argsIgnorePattern: ^_
          varsIgnorePattern: ^_
      "@typescript-eslint/no-this-alias":
        - error
        - allowedNames:
            - self
      "@typescript-eslint/unbound-method":
        - error
        - ignoreStatic: true
  - files: "**/*.@(test|spec).@(t|j)s?(x)"
    plugins:
      - jest
      - jest-formatting
    extends:
      - plugin:jest/recommended
      - plugin:jest/style
      - plugin:jest-formatting/strict
    rules:
      # Disallowing __dirname in Jest files with ts-jest is rather complicated and
      # requires use of experimental features
      # https://github.com/kulshekhar/ts-jest/issues/1174
      unicorn/prefer-module: off
  - files:
      - "*.yaml"
      - "*.yml"
    parser: yaml-eslint-parser
    extends:
      - plugin:yml/standard
      - plugin:yml/prettier
  - files:
      - "*.json"
    plugins:
      - json
    rules:
      json/json: error
  - files:
      - tsconfig.json
    rules:
      json/json:
        - error
        - allowComments: true
  - files:
      - package.json
    plugins:
      - package-json
    extends:
      - plugin:package-json/recommended
    rules:
      prettier/prettier: off
      unicorn/prefer-module: off
plugins:
  - prettier
  - promise
  - simple-import-sort
  - unicorn
rules:
  jest/expect-expect:
    - error
    - assertFunctionNames:
        - "*.assert*"
  no-console:
    - error
    - allow:
        - warn
        - error
  promise/catch-or-return:
    - error
    - terminationMethod:
        - catch
        - finally
  simple-import-sort/exports: error
  simple-import-sort/imports:
    - error
    # See https://github.com/lydell/eslint-plugin-simple-import-sort/#custom-grouping
    - groups:
        - # Side effect imports (the plugin inserts '\\u0000' for us to match).
          - ^\u0000
        - # Packages. (Things that start with a letter (or digit or underscore), or `@` followed by a letter.)
          - ^@?\w
        - # Relative imports.
          - ^\.
        - # Catch everything not covered by other rules
          - ^
  unicorn/filename-case:
    - error
    - cases:
        camelCase: true
        pascalCase: true
  unicorn/prevent-abbreviations:
    - error
    - replacements:
        args:
          arguments: false
